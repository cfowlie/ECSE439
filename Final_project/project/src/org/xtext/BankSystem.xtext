grammar org.xtext.BankSystem with org.eclipse.xtext.common.Terminals
generate bankSystem "http://www.xtext.org/BankSystem"


BankSystem:
	(banks+=Bank)+
	(users+=User)+
;
Bank: 
	'Bank' name=ID
	'{'
		'Country' countryOfOrigin= STRING
		(branches+=Branch)+
		(accounts+=Account)*
		(transactions+=Transaction)*
	'}'
;

User:
	'User' '{'
	'Name' name=ID
	'Email' email=STRING
	'HashPass' hashpass=STRING
	'Address' address=STRING
	'}'
;


Branch:
	'Branch{'
		'Address' address = STRING
		(mybooth=Booth)?
		(myVault=Vault)?
		(employees+=Employee)+
	'}'
;

Booth:
	'Booth'
;

Vault:
	'Vault'
;

Employee:
	'Employee' name=ID '{'
		'Hiring date' date= Date
		'Salary' salary=INT
		'Current Role' currentRole = EmployeeRole
	'}'
;

EmployeeRole:
	Teller|Manager
;

Teller:
	'Teller'
;

Manager:
	'Manager'
;

Account:
	'account'(accountNum = ID) '{'
		'Holder(s)' holder=ID
		'Balance' balance=INT
		'Account Number' 
		'MFA Type' mfaType= STRING
		'Type'(accountType = AccountType)
		('Interest rate' intRate= INT)?
		('Debits per month' depPerMonth= INT)?
		('Loan period' loanPeriod=STRING)?
	'}'
;

AccountType:
	(SavingsAccount|CheckingAccount|MortgageAccount)
;

SavingsAccount:
	'Savings Account'
;

CheckingAccount:
	'Checking Account'
	
;

MortgageAccount:
	'Mortgage Account'
;

Transaction:
	'transaction {'
		'Account:' account=ID
		'Amount:' amount = INT
		'Date' date=Date
		'Debit' debit=Boolean
		'Vendor name' vendorName=STRING
	'}'
;

Boolean:
	'true'|'false'
;

Date:
	year=INT'/'month=INT'/'day=INT
;